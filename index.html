<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è‹±è¯­åŠ¨è¯å˜åŒ–èƒŒè¯µç³»ç»Ÿ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .stat-card {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            color: white;
            min-width: 120px;
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            display: block;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        .card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .verb-card {
            border: 2px solid #e0e6ff;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }

        .verb-card:hover {
            border-color: #667eea;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
        }

        .verb-forms {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 10px;
            margin-bottom: 10px;
        }

        .verb-form {
            text-align: center;
            padding: 8px;
            background: #f8f9ff;
            border-radius: 8px;
            font-weight: bold;
        }

        .verb-form.original { color: #2563eb; }
        .verb-form.past { color: #dc2626; }
        .verb-form.participle { color: #059669; }

        .chinese-meaning {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 8px;
        }

        .example {
            font-style: italic;
            color: #888;
            font-size: 0.85em;
            border-left: 3px solid #667eea;
            padding-left: 10px;
        }

        .controls {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 20px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #f093fb, #f5576c);
            color: white;
        }

        .btn-success {
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .quiz-card {
            background: linear-gradient(135deg, #ffecd2, #fcb69f);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
        }

        .quiz-question {
            font-size: 1.3em;
            margin-bottom: 20px;
            color: #d73527;
            font-weight: bold;
        }

        .quiz-input {
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1.1em;
            margin: 10px;
            width: 150px;
            text-align: center;
        }

        .quiz-input:focus {
            outline: none;
            border-color: #667eea;
        }

        .result {
            margin-top: 15px;
            font-weight: bold;
            font-size: 1.1em;
        }

        .correct { color: #059669; }
        .incorrect { color: #dc2626; }

        .progress-bar {
            background: rgba(255,255,255,0.3);
            border-radius: 10px;
            height: 20px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #4facfe, #00f2fe);
            height: 100%;
            border-radius: 10px;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.8em;
        }

        .review-section {
            background: linear-gradient(135deg, #a8edea, #fed6e3);
            border-radius: 20px;
            padding: 30px;
            margin-top: 30px;
        }

        .review-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            margin: 10px 0;
            background: rgba(255,255,255,0.7);
            border-radius: 10px;
        }

        .difficulty-badge {
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8em;
            font-weight: bold;
        }

        .easy { background: #10b981; color: white; }
        .medium { background: #f59e0b; color: white; }
        .hard { background: #ef4444; color: white; }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse {
            animation: pulse 2s infinite;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“ è‹±è¯­åŠ¨è¯å˜åŒ–èƒŒè¯µç³»ç»Ÿ</h1>
            <p>åŸºäºè®°å¿†æ›²çº¿çš„æ™ºèƒ½å­¦ä¹ ç³»ç»Ÿ</p>
        </div>

        <div class="stats">
            <div class="stat-card">
                <span class="stat-number" id="currentDay">1</span>
                <span>å½“å‰å¤©æ•°</span>
            </div>
            <div class="stat-card">
                <span class="stat-number" id="learnedWords">0</span>
                <span>å·²å­¦å•è¯</span>
            </div>
            <div class="stat-card">
                <span class="stat-number" id="accuracy">0%</span>
                <span>æ­£ç¡®ç‡</span>
            </div>
            <div class="stat-card">
                <span class="stat-number" id="streak">0</span>
                <span>è¿ç»­å¤©æ•°</span>
            </div>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressFill" style="width: 0%">
                <span id="progressText">0/8</span>
            </div>
        </div>

        <div class="controls">
            <button class="btn btn-primary" onclick="startNewDay()">å¼€å§‹æ–°ä¸€å¤©</button>
            <button class="btn btn-secondary" onclick="startQuiz()">å¼€å§‹æµ‹è¯•</button>
            <button class="btn btn-success" onclick="showReview()">å¤ä¹ æ¨¡å¼</button>
        </div>

        <div class="main-content">
            <div class="card">
                <h2>ğŸ“š ä»Šæ—¥å­¦ä¹ </h2>
                <div id="todayWords"></div>
            </div>

            <div class="card">
                <h2>ğŸ§  æ™ºèƒ½æµ‹è¯•</h2>
                <div id="quizSection">
                    <p style="text-align: center; color: #666;">ç‚¹å‡»"å¼€å§‹æµ‹è¯•"å¼€å§‹ç»ƒä¹ </p>
                </div>
            </div>
        </div>

        <div class="review-section" id="reviewSection" style="display: none;">
            <h2 style="text-align: center; margin-bottom: 20px;">ğŸ“– å¤ä¹ ä¸­å¿ƒ</h2>
            <div id="reviewContent"></div>
        </div>
    </div>

    <script>
        // åŠ¨è¯æ•°æ®åº“ - æŒ‰éš¾åº¦å’Œå¸¸è€ƒç¨‹åº¦åˆ†ç»„
        const verbDatabase = [
            // ç¬¬1ç»„ - æœ€åŸºç¡€å¸¸ç”¨åŠ¨è¯
            [
                {original: "be", past: "was/were", participle: "been", chinese: "æ˜¯ï¼Œå­˜åœ¨", example: "I am a student. æˆ‘æ˜¯ä¸€åå­¦ç”Ÿã€‚"},
                {original: "have", past: "had", participle: "had", chinese: "æœ‰ï¼Œæ‹¥æœ‰", example: "She has a car. å¥¹æœ‰ä¸€è¾†è½¦ã€‚"},
                {original: "do", past: "did", participle: "done", chinese: "åšï¼Œå¹²", example: "I do my homework. æˆ‘åšä½œä¸šã€‚"},
                {original: "go", past: "went", participle: "gone", chinese: "å»ï¼Œèµ°", example: "Let's go home. æˆ‘ä»¬å›å®¶å§ã€‚"},
                {original: "come", past: "came", participle: "come", chinese: "æ¥ï¼Œåˆ°è¾¾", example: "Come here please. è¯·è¿‡æ¥ã€‚"},
                {original: "get", past: "got", participle: "got/gotten", chinese: "å¾—åˆ°ï¼Œè·å¾—", example: "I got a gift. æˆ‘å¾—åˆ°äº†ç¤¼ç‰©ã€‚"},
                {original: "make", past: "made", participle: "made", chinese: "åˆ¶ä½œï¼Œä½¿", example: "Make a cake. åšä¸€ä¸ªè›‹ç³•ã€‚"},
                {original: "take", past: "took", participle: "taken", chinese: "æ‹¿ï¼Œå–", example: "Take this book. æ‹¿ç€è¿™æœ¬ä¹¦ã€‚"}
            ],
            // ç¬¬2ç»„ - å¸¸ç”¨åŠ¨è¯
            [
                {original: "see", past: "saw", participle: "seen", chinese: "çœ‹è§", example: "I saw him yesterday. æˆ‘æ˜¨å¤©çœ‹è§ä»–äº†ã€‚"},
                {original: "know", past: "knew", participle: "known", chinese: "çŸ¥é“ï¼Œäº†è§£", example: "I know the answer. æˆ‘çŸ¥é“ç­”æ¡ˆã€‚"},
                {original: "think", past: "thought", participle: "thought", chinese: "æƒ³ï¼Œæ€è€ƒ", example: "Think carefully. ä»”ç»†æ€è€ƒã€‚"},
                {original: "say", past: "said", participle: "said", chinese: "è¯´", example: "What did you say? ä½ è¯´ä»€ä¹ˆï¼Ÿ"},
                {original: "tell", past: "told", participle: "told", chinese: "å‘Šè¯‰", example: "Tell me the truth. å‘Šè¯‰æˆ‘çœŸç›¸ã€‚"},
                {original: "give", past: "gave", participle: "given", chinese: "ç»™", example: "Give me a hand. å¸®æˆ‘ä¸€æŠŠã€‚"},
                {original: "find", past: "found", participle: "found", chinese: "æ‰¾åˆ°ï¼Œå‘ç°", example: "I found my keys. æˆ‘æ‰¾åˆ°äº†é’¥åŒ™ã€‚"},
                {original: "feel", past: "felt", participle: "felt", chinese: "æ„Ÿè§‰", example: "I feel happy. æˆ‘æ„Ÿåˆ°å¿«ä¹ã€‚"}
            ],
            // ç¬¬3ç»„ - åŠ¨ä½œåŠ¨è¯
            [
                {original: "run", past: "ran", participle: "run", chinese: "è·‘", example: "Run fast! è·‘å¿«ç‚¹ï¼"},
                {original: "walk", past: "walked", participle: "walked", chinese: "èµ°", example: "Walk slowly. æ…¢æ…¢èµ°ã€‚"},
                {original: "sit", past: "sat", participle: "sat", chinese: "å", example: "Sit down please. è¯·åä¸‹ã€‚"},
                {original: "stand", past: "stood", participle: "stood", chinese: "ç«™", example: "Stand up! èµ·ç«‹ï¼"},
                {original: "put", past: "put", participle: "put", chinese: "æ”¾ï¼Œç½®", example: "Put it here. æŠŠå®ƒæ”¾è¿™é‡Œã€‚"},
                {original: "bring", past: "brought", participle: "brought", chinese: "å¸¦æ¥", example: "Bring your book. å¸¦ä¸Šä½ çš„ä¹¦ã€‚"},
                {original: "buy", past: "bought", participle: "bought", chinese: "ä¹°", example: "Buy some milk. ä¹°äº›ç‰›å¥¶ã€‚"},
                {original: "eat", past: "ate", participle: "eaten", chinese: "åƒ", example: "Eat your dinner. åƒæ™šé¤ã€‚"}
            ],
            // ç¬¬4ç»„ - å­¦ä¹ å·¥ä½œç›¸å…³
            [
                {original: "read", past: "read", participle: "read", chinese: "è¯»", example: "Read this book. è¯»è¿™æœ¬ä¹¦ã€‚"},
                {original: "write", past: "wrote", participle: "written", chinese: "å†™", example: "Write a letter. å†™ä¸€å°ä¿¡ã€‚"},
                {original: "learn", past: "learned/learnt", participle: "learned/learnt", chinese: "å­¦ä¹ ", example: "Learn English. å­¦è‹±è¯­ã€‚"},
                {original: "teach", past: "taught", participle: "taught", chinese: "æ•™", example: "Teach me math. æ•™æˆ‘æ•°å­¦ã€‚"},
                {original: "study", past: "studied", participle: "studied", chinese: "å­¦ä¹ ï¼Œç ”ç©¶", example: "Study hard. åŠªåŠ›å­¦ä¹ ã€‚"},
                {original: "work", past: "worked", participle: "worked", chinese: "å·¥ä½œ", example: "Work together. ä¸€èµ·å·¥ä½œã€‚"},
                {original: "help", past: "helped", participle: "helped", chinese: "å¸®åŠ©", example: "Help each other. äº’ç›¸å¸®åŠ©ã€‚"},
                {original: "try", past: "tried", participle: "tried", chinese: "å°è¯•", example: "Try your best. å°½åŠ›è€Œä¸ºã€‚"}
            ],
            // ç¬¬5ç»„ - æƒ…æ„Ÿè¡¨è¾¾
            [
                {original: "like", past: "liked", participle: "liked", chinese: "å–œæ¬¢", example: "I like music. æˆ‘å–œæ¬¢éŸ³ä¹ã€‚"},
                {original: "love", past: "loved", participle: "loved", chinese: "çˆ±", example: "Love your family. çˆ±ä½ çš„å®¶äººã€‚"},
                {original: "want", past: "wanted", participle: "wanted", chinese: "æƒ³è¦", example: "I want water. æˆ‘æƒ³è¦æ°´ã€‚"},
                {original: "need", past: "needed", participle: "needed", chinese: "éœ€è¦", example: "Need your help. éœ€è¦ä½ çš„å¸®åŠ©ã€‚"},
                {original: "hope", past: "hoped", participle: "hoped", chinese: "å¸Œæœ›", example: "Hope for the best. æŠ±æœ€å¥½çš„å¸Œæœ›ã€‚"},
                {original: "wish", past: "wished", participle: "wished", chinese: "å¸Œæœ›ï¼Œç¥æ„¿", example: "Wish you luck. ç¥ä½ å¥½è¿ã€‚"},
                {original: "enjoy", past: "enjoyed", participle: "enjoyed", chinese: "äº«å—", example: "Enjoy your meal. ç”¨é¤æ„‰å¿«ã€‚"},
                {original: "miss", past: "missed", participle: "missed", chinese: "æƒ³å¿µï¼Œé”™è¿‡", example: "Miss you so much. éå¸¸æƒ³å¿µä½ ã€‚"}
            ],
            // ç¬¬6ç»„ - ç”Ÿæ´»åŠ¨è¯
            [
                {original: "live", past: "lived", participle: "lived", chinese: "ç”Ÿæ´»ï¼Œå±…ä½", example: "Live in Beijing. ä½åœ¨åŒ—äº¬ã€‚"},
                {original: "sleep", past: "slept", participle: "slept", chinese: "ç¡è§‰", example: "Sleep well. ç¡ä¸ªå¥½è§‰ã€‚"},
                {original: "wake", past: "woke", participle: "woken", chinese: "é†’æ¥", example: "Wake up early. æ—©èµ·ã€‚"},
                {original: "cook", past: "cooked", participle: "cooked", chinese: "åšé¥­", example: "Cook dinner. åšæ™šé¥­ã€‚"},
                {original: "clean", past: "cleaned", participle: "cleaned", chinese: "æ‰“æ‰«", example: "Clean the room. æ‰“æ‰«æˆ¿é—´ã€‚"},
                {original: "wash", past: "washed", participle: "washed", chinese: "æ´—", example: "Wash your hands. æ´—æ‰‹ã€‚"},
                {original: "drive", past: "drove", participle: "driven", chinese: "å¼€è½¦", example: "Drive carefully. å°å¿ƒé©¾é©¶ã€‚"},
                {original: "fly", past: "flew", participle: "flown", chinese: "é£", example: "Fly to Paris. é£å¾€å·´é»ã€‚"}
            ],
            // ç¬¬7ç»„ - äº¤æµåŠ¨è¯
            [
                {original: "speak", past: "spoke", participle: "spoken", chinese: "è¯´è¯", example: "Speak Chinese. è¯´ä¸­æ–‡ã€‚"},
                {original: "talk", past: "talked", participle: "talked", chinese: "è°ˆè¯", example: "Talk to me. å’Œæˆ‘è¯´è¯ã€‚"},
                {original: "listen", past: "listened", participle: "listened", chinese: "å¬", example: "Listen carefully. ä»”ç»†å¬ã€‚"},
                {original: "hear", past: "heard", participle: "heard", chinese: "å¬è§", example: "Hear the music. å¬åˆ°éŸ³ä¹ã€‚"},
                {original: "ask", past: "asked", participle: "asked", chinese: "é—®", example: "Ask a question. é—®ä¸ªé—®é¢˜ã€‚"},
                {original: "answer", past: "answered", participle: "answered", chinese: "å›ç­”", example: "Answer me please. è¯·å›ç­”æˆ‘ã€‚"},
                {original: "call", past: "called", participle: "called", chinese: "æ‰“ç”µè¯ï¼Œå«", example: "Call me tonight. ä»Šæ™šç»™æˆ‘æ‰“ç”µè¯ã€‚"},
                {original: "meet", past: "met", participle: "met", chinese: "è§é¢", example: "Meet at 5 PM. ä¸‹åˆ5ç‚¹è§é¢ã€‚"}
            ],
            // ç¬¬8ç»„ - å˜åŒ–åŠ¨è¯
            [
                {original: "become", past: "became", participle: "become", chinese: "å˜æˆ", example: "Become a doctor. æˆä¸ºåŒ»ç”Ÿã€‚"},
                {original: "grow", past: "grew", participle: "grown", chinese: "é•¿å¤§ï¼Œæˆé•¿", example: "Grow up fast. å¿«å¿«é•¿å¤§ã€‚"},
                {original: "change", past: "changed", participle: "changed", chinese: "æ”¹å˜", example: "Change your mind. æ”¹å˜æƒ³æ³•ã€‚"},
                {original: "turn", past: "turned", participle: "turned", chinese: "è½¬å˜", example: "Turn left here. åœ¨è¿™é‡Œå·¦è½¬ã€‚"},
                {original: "open", past: "opened", participle: "opened", chinese: "æ‰“å¼€", example: "Open the door. å¼€é—¨ã€‚"},
                {original: "close", past: "closed", participle: "closed", chinese: "å…³é—­", example: "Close the window. å…³çª—æˆ·ã€‚"},
                {original: "start", past: "started", participle: "started", chinese: "å¼€å§‹", example: "Start working. å¼€å§‹å·¥ä½œã€‚"},
                {original: "stop", past: "stopped", participle: "stopped", chinese: "åœæ­¢", example: "Stop talking. åœæ­¢è¯´è¯ã€‚"}
            ],
            // ç¬¬9ç»„ - ç§»åŠ¨åŠ¨è¯
            [
                {original: "move", past: "moved", participle: "moved", chinese: "ç§»åŠ¨", example: "Move forward. å‘å‰ç§»åŠ¨ã€‚"},
                {original: "carry", past: "carried", participle: "carried", chinese: "æºå¸¦", example: "Carry the bag. æ‹ç€åŒ…ã€‚"},
                {original: "pull", past: "pulled", participle: "pulled", chinese: "æ‹‰", example: "Pull the rope. æ‹‰ç»³å­ã€‚"},
                {original: "push", past: "pushed", participle: "pushed", chinese: "æ¨", example: "Push the button. æŒ‰æŒ‰é’®ã€‚"},
                {original: "throw", past: "threw", participle: "thrown", chinese: "æŠ•ï¼Œæ‰”", example: "Throw the ball. æ‰”çƒã€‚"},
                {original: "catch", past: "caught", participle: "caught", chinese: "æŠ“ä½", example: "Catch the bus. èµ¶å…¬äº¤è½¦ã€‚"},
                {original: "hold", past: "held", participle: "held", chinese: "æ‹¿ç€ï¼Œä¸¾è¡Œ", example: "Hold my hand. æ¡ç€æˆ‘çš„æ‰‹ã€‚"},
                {original: "drop", past: "dropped", participle: "dropped", chinese: "æ‰è½", example: "Drop the ball. æŠŠçƒæ‰äº†ã€‚"}
            ],
            // ç¬¬10ç»„ - é«˜çº§åŠ¨è¯
            [
                {original: "understand", past: "understood", participle: "understood", chinese: "ç†è§£", example: "Understand the lesson. ç†è§£è¯¾ç¨‹ã€‚"},
                {original: "remember", past: "remembered", participle: "remembered", chinese: "è®°ä½", example: "Remember this day. è®°ä½è¿™ä¸€å¤©ã€‚"},
                {original: "forget", past: "forgot", participle: "forgotten", chinese: "å¿˜è®°", example: "Don't forget me. åˆ«å¿˜äº†æˆ‘ã€‚"},
                {original: "choose", past: "chose", participle: "chosen", chinese: "é€‰æ‹©", example: "Choose wisely. æ˜æ™ºåœ°é€‰æ‹©ã€‚"},
                {original: "decide", past: "decided", participle: "decided", chinese: "å†³å®š", example: "Decide quickly. å¿«é€Ÿå†³å®šã€‚"},
                {original: "believe", past: "believed", participle: "believed", chinese: "ç›¸ä¿¡", example: "Believe in yourself. ç›¸ä¿¡è‡ªå·±ã€‚"},
                {original: "win", past: "won", participle: "won", chinese: "èµ¢å¾—", example: "Win the game. èµ¢å¾—æ¯”èµ›ã€‚"},
                {original: "lose", past: "lost", participle: "lost", chinese: "å¤±å»ï¼Œè¾“", example: "Don't lose hope. ä¸è¦å¤±å»å¸Œæœ›ã€‚"}
            ]
        ];

        // å­¦ä¹ æ•°æ®å­˜å‚¨
        let learningData = {
            currentDay: 1,
            learnedWords: 0,
            totalCorrect: 0,
            totalQuestions: 0,
            streak: 0,
            lastStudyDate: null,
            wordProgress: {}, // æ¯ä¸ªå•è¯çš„æŒæ¡ç¨‹åº¦
            reviewSchedule: {} // å¤ä¹ è®¡åˆ’
        };

        // å½“å‰å­¦ä¹ çŠ¶æ€
        let currentQuiz = null;
        let currentWordSet = [];

        // åˆå§‹åŒ–
        function init() {
            loadLearningData();
            updateStats();
            loadTodayWords();
        }

        // åŠ è½½å­¦ä¹ æ•°æ®
        function loadLearningData() {
            const saved = localStorage.getItem('verbLearningData');
            if (saved) {
                learningData = {...learningData, ...JSON.parse(saved)};
            }
        }

        // ä¿å­˜å­¦ä¹ æ•°æ®
        function saveLearningData() {
            localStorage.setItem('verbLearningData', JSON.stringify(learningData));
        }

        // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
        function updateStats() {
            document.getElementById('currentDay').textContent = learningData.currentDay;
            document.getElementById('learnedWords').textContent = learningData.learnedWords;
            
            const accuracy = learningData.totalQuestions > 0 
                ? Math.round((learningData.totalCorrect / learningData.totalQuestions) * 100)
                : 0;
            document.getElementById('accuracy').textContent = accuracy + '%';
            document.getElementById('streak').textContent = learningData.streak;
        }

        // å¼€å§‹æ–°ä¸€å¤©
        function startNewDay() {
            const today = new Date().toDateString();
            if (learningData.lastStudyDate !== today) {
                learningData.lastStudyDate = today;
                learningData.streak++;
                saveLearningData();
            }
            loadTodayWords();
            updateProgress();
        }

        // åŠ è½½ä»Šæ—¥å•è¯
        function loadTodayWords() {
            const dayIndex = (learningData.currentDay - 1) % verbDatabase.length;
            currentWordSet = verbDatabase[dayIndex];
            
            const container = document.getElementById('todayWords');
            container.innerHTML = '';
            
            currentWordSet.forEach((verb, index) => {
                const verbCard = createVerbCard(verb, index);
                container.appendChild(verbCard);
            });
            
            updateProgress();
        }

        // åˆ›å»ºåŠ¨è¯å¡ç‰‡
        function createVerbCard(verb, index) {
            const card = document.createElement('div');
            card.className = 'verb-card';
            card.innerHTML = `
                <div class="verb-forms">
                    <div class="verb-form original">${verb.original}</div>
                    <div class="verb-form past">${verb.past}</div>
                    <div class="verb-form participle">${verb.participle}</div>
                </div>
                <div class="chinese-meaning">${verb.chinese}</div>
                <div class="example">${verb.example}</div>
            `;
            
            // æ·»åŠ ç‚¹å‡»æ•ˆæœ
            card.addEventListener('click', () => {
                card.classList.add('pulse');
                setTimeout(() => card.classList.remove('pulse'), 1000);
                
                // æ ‡è®°ä¸ºå·²å­¦ä¹ 
                if (!learningData.wordProgress[verb.original]) {
                    learningData.wordProgress[verb.original] = {
                        learned: true,
                        lastReview: new Date().toISOString(),
                        strength: 1
                    };
                    learningData.learnedWords++;
                    updateStats();
                    updateProgress();
                    saveLearningData();
                }
            });
            
            return card;
        }

        // æ›´æ–°è¿›åº¦æ¡
        function updateProgress() {
            const learnedToday = currentWordSet.filter(verb => 
                learningData.wordProgress[verb.original]?.learned
            ).length;
            
            const percentage = (learnedToday / currentWordSet.length) * 100;
            const progressFill = document.getElementById('progressFill');
            const progressText = document.getElementById('progressText');
            
            progressFill.style.width = percentage + '%';
            progressText.textContent = `${learnedToday}/${currentWordSet.length}`;
            
            if (learnedToday === currentWordSet.length) {
                progressText.textContent = 'ä»Šæ—¥å®Œæˆï¼';
                setTimeout(() => {
                    if (confirm('ä»Šæ—¥å­¦ä¹ å®Œæˆï¼æ˜¯å¦è¿›å…¥ä¸‹ä¸€å¤©ï¼Ÿ')) {
                        learningData.currentDay++;
                        saveLearningData();
                        updateStats();
                        loadTodayWords();
                    }
                }, 500);
            }
        }

        // å¼€å§‹æµ‹è¯•
        function startQuiz() {
            const learnedVerbs = currentWordSet.filter(verb => 
                learningData.wordProgress[verb.original]?.learned
            );
            
            if (learnedVerbs.length === 0) {
                alert('è¯·å…ˆå­¦ä¹ ä»Šæ—¥å•è¯ï¼');
                return;
            }
            
            currentQuiz = learnedVerbs[Math.floor(Math.random() * learnedVerbs.length)];
            showQuizQuestion();
        }

        // æ˜¾ç¤ºæµ‹è¯•é¢˜ç›®
        function showQuizQuestion() {
            const quizSection = document.getElementById('quizSection');
            const questionTypes = ['past', 'participle', 'chinese'];
            const questionType = questionTypes[Math.floor(Math.random() * questionTypes.length)];
            
            let questionText = '';
            let correctAnswer = '';
            
            if (questionType === 'past') {
                questionText = `"${currentQuiz.original}" çš„è¿‡å»å¼æ˜¯ï¼Ÿ`;
                correctAnswer = currentQuiz.past;
            } else if (questionType === 'participle') {
                questionText = `"${currentQuiz.original}" çš„è¿‡å»åˆ†è¯æ˜¯ï¼Ÿ`;
                correctAnswer = currentQuiz.participle;
            } else {
                questionText = `"${currentQuiz.original}" çš„ä¸­æ–‡æ„æ€æ˜¯ï¼Ÿ`;
                correctAnswer = currentQuiz.chinese;
            }
            
            quizSection.innerHTML = `
                <div class="quiz-card">
                    <div class="quiz-question">${questionText}</div>
                    <input type="text" class="quiz-input" id="quizInput" placeholder="è¾“å…¥ç­”æ¡ˆ">
                    <br>
                    <button class="btn btn-primary" onclick="checkAnswer('${correctAnswer}', '${questionType}')">æäº¤ç­”æ¡ˆ</button>
                    <div id="quizResult"></div>
                </div>
            `;
